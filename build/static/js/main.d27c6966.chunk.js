(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{133:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(29),r=a.n(n),o=(a(76),"data:image/png;base64,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"),l=a.p+"static/media/padlock.b04be2ee.svg",i=a(21),d=a(7),u=a.n(d),m=a(0),p=function(){return Object(m.jsx)("div",{className:"signin",children:Object(m.jsxs)("div",{className:"signinBloc",children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsxs)("div",{className:"logo",children:[Object(m.jsx)("img",{alt:"devchallenges",src:o}),Object(m.jsx)("h2",{children:"devchallenges"})]}),Object(m.jsx)("p",{children:"Sign in"})]}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={pseudoOrEmail:e.target[0].value,password:e.target[1].value};u.a.post("https://chatappback.onrender.com/auth/login",t).then((function(e){console.log(e.data);var t=document.querySelector(".errorMessageSignin");t.classList.add("none"),"pseudo or email are not valid"===e.data||"incorrect password"===e.data?(t.classList.remove("none"),t.textContent=e.data):(console.log("c'est valide"),console.log(e.data),document.cookie="__user="+e.data.cookie,window.location.reload())})).catch((function(e){console.error("error grave "+e)}))},className:"formulaire",children:[Object(m.jsxs)("div",{className:"firstInputs",children:[Object(m.jsx)("input",{required:!0,className:"inpt",placeholder:"Username or email...",type:"text"}),Object(m.jsx)("input",{required:!0,className:"inpt",placeholder:"Password",type:"password"}),Object(m.jsxs)("div",{className:"checkZone",children:[Object(m.jsx)("input",{className:"check",name:"check",type:"checkbox"}),Object(m.jsx)("label",{htmlFor:"check",children:"Remember me"})]})]}),Object(m.jsx)("p",{className:"errorMessageSignin none"}),Object(m.jsx)("input",{className:"submitButton btn",type:"submit",value:"Log in"})]}),Object(m.jsxs)("div",{className:"theDetails",children:[Object(m.jsxs)("div",{className:"firstProp",children:[Object(m.jsx)("img",{alt:"padlock",src:l}),Object(m.jsx)("p",{children:"forgot your password?"})]}),Object(m.jsx)("div",{className:"secondProp",children:Object(m.jsx)(i.b,{to:"/signup",exact:!0,children:"Create an account"})})]})]})})},j=a(30),h=a(18),b=a.p+"static/media/left-arrow.62bb2cc9.svg",O=function(e){var t=e.picture,a=e.name;return Object(m.jsxs)("div",{className:"member",children:[Object(m.jsx)("img",{className:"image",alt:"prof",src:t}),Object(m.jsx)("p",{className:"ProfileName",children:a})]})},g=a(4),v=a.p+"static/media/buttom-arrow.fc2c79f5.svg",f=a(71),x=a(6),N="GET_USERS",y="GET_ONE_USER",L="CHANGE_USER_PICTURE",S=function(e){var t=e.picture,a=e.name,s=e.userId,n=e.channelId,r=Object(x.b)(),o=Object(c.useState)(!1),l=Object(h.a)(o,2),i=l[0],d=l[1],p=Object(c.useState)(null),j=Object(h.a)(p,2),b=j[0],O=j[1],N=Object(c.useCallback)((function(e){e?(d(!0),O(e[0])):console.error("les fichier ne sont pas accept\xe9")}),[]);i&&null!==b&&(r(function(e,t,a){var c=new FormData;return c.append("userId",e),c.append("image",t),c.append("channelId",a),function(a){console.log("formData"),console.log(c),console.log(t),u()({method:"post",url:"https://chatappback.onrender.com/api/editpicture",data:c,headers:{"Content-Type":"multipart/form-data"}}).then((function(c){if(!c.data.error)return console.log(t),a({type:L,payload:"https://chatappback.onrender.com/images/".concat(e,".jpg")});console.error(c.data.error)})).catch((function(e){console.error(e)}))}}(s,b,n)),d(!1),window.location.reload());var y=Object(f.a)({onDrop:N,accept:"image/jpeg, image/jpg, image/png"}),S=y.getRootProps,P=y.getInputProps;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"left",children:[Object(m.jsx)("input",Object(g.a)({},P())),Object(m.jsx)("div",Object(g.a)(Object(g.a)({},S()),{},{className:"btn",style:{width:"42px",height:"42px"},children:Object(m.jsx)("img",{className:"image",alt:"prof",src:t})})),Object(m.jsx)("p",{className:"ProfileName",children:a})]}),Object(m.jsx)("div",{id:"rightPart",className:"right a",onClick:function(e){var t=document.getElementById("popup"),a=document.getElementById("imageToRotate");"img"===a.className?(a.classList.add("rotateImage"),t.classList.remove("nonePopup"),t.classList.remove("none")):"img rotateImage"===a.className&&(t.classList.add("nonePopup"),a.classList.remove("rotateImage"),setTimeout((function(){t.classList.add("none")}),400))}}),Object(m.jsx)("img",{id:"imageToRotate",className:"img",style:{width:"19px",height:"12px",position:"relative",right:"13px",transition:"transform 0.2s"},src:v,alt:"how"})]})},P=a.p+"static/media/plus.3a1630eb.svg",k=a.p+"static/media/loupe.08621295.svg",C=a(39),A=a.n(C),E=a(67),R="GET_CAHNNELS",T="GET_ONE_CHANNEL",w="CREATE_CHANNEL",I="ADD_MESSAGE_TO_CHANNEL",B="ADD_USER_TO_CHANNEL",q=function(e){return function(t){u.a.get("https://chatappback.onrender.com/api/getOneChannel/".concat(e)).then((function(e){if(e)return t({type:T,payload:e.data});console.error("nous n'arrivons pas a recuperer les canals")})).catch((function(e){console.error(e)}))}},U=function(e){var t=e._id,a=e.posterId,c=e.pseudo,s=e.picture,n=e.message,r=e.user;return function(e){var o={id:a,pseudo:c,picture:s,message:n};u.a.post("https://chatappback.onrender.com/api/addmessagetochannel/".concat(t),o).then((function(e){e.data&&(e.data.error?console.error(e.data.error):console.log(e.data.channel))})).catch((function(e){console.error(e)})),console.log(r);var l={message:n,posterName:r.pseudo,posterPicture:r.picture,timestamps:Date.now()};return e({type:I,payload:l})}},F=function(e){var t=e.id,a=e.memberId,c=e.pseudo,s=e.picture;return function(e){var n={id:a,pseudo:c,picture:s};u.a.post("https://chatappback.onrender.com/api/addusertochannel/".concat(t),n).then((function(t){if(t.data){if(!t.data.error)return e({type:B,payload:t.data.channel});console.error(t.data.error)}else console.error("nous n'arrivons pas a trouver le 'res.data'")})).catch((function(e){console.error(e)}))}},D=function(e){var t,a=e.name,s=e.id,n=e.setpounce,r=Object(x.b)(),o=Object(x.c)((function(e){return e.actuallyUserReducer})),l=(Object(x.c)((function(e){return e.channelsReducer})),Object(c.useState)(!1)),i=Object(h.a)(l,2);i[0],i[1];if(a){var d=a.split(" ");if(d.length>=2)t=d[0].split("")[0]+d[1].split("")[0];else t=a[0].split("")[0]}return Object(m.jsxs)("div",{className:"Onechannel btn",onClick:function(){var e=Object(E.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(q(s)),n(!0),(a=document.querySelector(".closeLeftPartParent"))&&(console.log("on le remove"),a.classList.remove("none")),r(F({id:s,pseudo:o.pseudo,picture:o.picture,memberId:o._id}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(m.jsx)("div",{className:"bloc",children:Object(m.jsx)("h3",{className:"shorten retitle",children:t||null})}),Object(m.jsx)("h3",{className:"retitle",children:a})]})},Q=a.p+"static/media/close.014ed855.svg",H=function(){var e=Object(c.useState)(!0),t=Object(h.a)(e,2),a=t[0],s=t[1],n=Object(x.c)((function(e){return e.actuallyChannelReducer})),r=Object(x.c)((function(e){return e.actuallyUserReducer})),o=Object(x.c)((function(e){return e.channelsReducer})),l=Object(x.b)(),i=Object(c.useState)(""),d=Object(h.a)(i,2),u=d[0],p=d[1];return a&&(window.onload=function(){l(F({id:n._id,pseudo:r.pseudo,picture:r.picture,memberId:r._id}))}),Object(m.jsx)(m.Fragment,{children:a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"profile",children:Object(m.jsx)(S,{picture:r.picture,name:r.pseudo,userId:r._id,channelId:n._id})}),Object(m.jsxs)("div",{className:"channel",children:[Object(m.jsx)("div",{className:"none closeLeftPartParent",children:Object(m.jsx)("div",{style:{zIndex:"52"},className:"closeLeftPart btn",onClick:function(){var e=document.querySelector(".channelsLeftPart");document.querySelector(".closeLeftPartParent").classList.add("none"),e.classList.replace("channelsLeftPartToRight","channelsLeftPartToLeft")},children:Object(m.jsx)("img",{onClick:function(){var e=document.querySelector(".channelsLeftPart");document.querySelector(".closeLeftPartParent").classList.add("none"),e.classList.replace("channelsLeftPartToRight","channelsLeftPartToLeft")},alt:"closeIcon",className:"closeIcon",src:Q})})}),Object(m.jsxs)("div",{className:"head",children:[Object(m.jsx)("img",{alt:"left arrow",src:b,onClick:function(e){s(!1)}}),Object(m.jsx)("p",{className:"bold title",children:"All channels"})]}),Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("div",{className:"HeadPart",children:[Object(m.jsx)("h3",{className:"bold retitle",children:n.name}),Object(m.jsx)("p",{className:"description simpleP",children:n.description})]}),Object(m.jsxs)("div",{className:"members",children:[Object(m.jsx)("h3",{className:"retitle",children:"Members"}),n.members?n.members.map((function(e,t){return Object(m.jsx)(O,{name:e.memberPseudo,picture:e.memberPicture},t)})):null]})]})]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"profile",children:Object(m.jsx)(S,{picture:r.picture,name:r.pseudo})}),Object(m.jsxs)("div",{className:"channels",children:[Object(m.jsx)("div",{className:"closeLeftPartParent",children:Object(m.jsx)("div",{className:"closeLeftPart btn",onClick:function(){var e=document.querySelector(".channelsLeftPart");document.querySelector(".closeLeftPartParent").classList.add("none"),e.classList.replace("channelsLeftPartToRight","channelsLeftPartToLeft")},children:Object(m.jsx)("img",{onClick:function(){var e=document.querySelector(".channelsLeftPart");document.querySelector(".closeLeftPartParent").classList.add("none"),e.classList.replace("channelsLeftPartToRight","channelsLeftPartToLeft")},alt:"closeIcon",className:"closeIcon",src:Q})})}),Object(m.jsxs)("div",{className:"head",children:[Object(m.jsx)("h3",{className:"title",children:"Channels"}),Object(m.jsx)("div",{className:"more",onClick:function(e){document.querySelector(".createChannelZone").classList.remove("none")},children:Object(m.jsx)("img",{alt:"more",src:P})})]}),Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("div",{className:"search",children:[Object(m.jsx)("img",{alt:"loupe",src:k}),Object(m.jsx)("input",{onChange:function(e){p(e.target.value)},type:"text",placeholder:"Search",className:"SearchInput inpt"})]}),Object(m.jsx)("div",{className:"TheChannels",children:o?""===u||null===u?o.sort((function(e,t){return t.date-e.date})).map((function(e,t){return Object(m.jsx)(D,{name:e.name,id:e._id,setpounce:s},t)})):o.filter((function(e){return e.name.split("").includes(u)||e.name.split(" ").includes(u)||e.name.startsWith(u)})).sort((function(e,t){return t.date-e.date})).map((function(e,t){return Object(m.jsx)(D,{name:e.name,id:e._id,setpounce:s},t)})):null})]})]})]})})},K=a.p+"static/media/exit.95c09be5.svg",M=a.p+"static/media/mountains.80e2ffa8.svg",Z=a.p+"static/media/user.d8ac2647.svg",G=a.p+"static/media/menu.468ed9ae.svg",J=function(e){var t=e.picture,a=e.name,c=e.text,s=e.date,n="",r=Date.now()/1e3/60/60/24-s/1e3/60/60/24,o=new Date(s);if(r>=1&&r<2)n="yesterday at ";else if(r<1){var l=o.toLocaleString().split(",")[1].split(" ")[1].split(":");n="today at "+(l[0]+":"+l[1])}else if(r>=2){var i=o.toDateString().split(" "),d="";"Mon"===i[0]?d="Monday":"Tue"===i[0]?d="Tuesday":"Thu"===i[0]?d="Thursday":"Sat"===i[0]?d="Saturday":"Fri"===i[0]?d="Friday":"Sun"===i[0]?d="Sunday":"Wed"===i[0]&&(d="Wednesday");var u=o.toLocaleString().split(",")[1].split(" ")[1].split(":"),p=u[0]+":"+u[1];n=d+" "+i[2]+" "+i[1]+" at "+p}return Object(m.jsxs)("div",{className:"message",children:[Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{alt:"prof",src:t})}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("p",{className:"ProfileName RealProfileName",children:a}),Object(m.jsx)("p",{className:"ProfileName FakeProfileName",children:n})]}),Object(m.jsx)("div",{className:"content",children:Object(m.jsx)("p",{className:"simpleP",children:c})})]})]})},W=a.p+"static/media/send.58004225.svg",Y=a(68),_=a.n(Y),z=function(){var e=Object(x.c)((function(e){return e.actuallyChannelReducer})),t=Object(x.c)((function(e){return e.actuallyUserReducer})),a=Object(x.b)(),s=Object(c.useState)(e.messages),n=Object(h.a)(s,2),r=(n[0],n[1]);return _.a.connect("https://chatappback.onrender.com").on("chat_message",(function(t){if(null!==e.messages&&void 0!==e.messages){e.messages.push(t);for(var a=null,c=0;c<e.messages.length;c++){var s=e.messages[c];null===a?a=s:s.timestamps===a.timestamps?e.messages.splice(c,c):a=s}r([])}})),Object(c.useEffect)((function(){document.querySelector(".messages")&&(document.querySelector(".messages").scrollTop=document.querySelector(".messages").scrollHeight)})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"head",children:[Object(m.jsx)("div",{className:"menuBar btn",onClick:function(e){var t=document.querySelector(".channelsLeftPart");document.querySelector(".closeLeftPartParent").classList.remove("none"),"channelsLeftPartToLeft"===t.classList[2]?t.classList.replace("channelsLeftPartToLeft","channelsLeftPartToRight"):t.classList.add("channelsLeftPartToRight")},children:Object(m.jsx)("img",{alt:"menuBarIcon",src:G})}),Object(m.jsx)("h3",{className:"retitle",children:e.name})]}),Object(m.jsx)("div",{className:"messages",children:e.messages?e.messages.map((function(e,t){return Object(m.jsx)(J,{name:e.posterName,picture:e.posterPicture,text:e.message,date:e.timestamps},t)})):null}),Object(m.jsx)("div",{className:"form messageSubForm",children:Object(m.jsxs)("form",{onSubmit:function(c){c.preventDefault();var s=c.target[0].value;if(""===s){var n=document.querySelector(".SubmitButtonFormUnique");c.target[0].classList.add("vibrationInput"),n.classList.add("vibrationInput"),setTimeout((function(){c.target[0].classList.remove("vibrationInput"),n.classList.remove("vibrationInput")}),400)}else{var r={id:e._id,pseudo:t.pseudo,picture:t.picture,message:s};console.log("tout est pret normalement"),a(U(Object(g.a)(Object(g.a)({},r),{},{_id:e._id,user:t}))),document.querySelector(".messages").scrollTop=document.querySelector(".messages").scrollHeight,c.target[0].value=""}},children:[Object(m.jsx)("input",{className:"input inpt",type:"text",placeholder:"Type a message here"}),Object(m.jsxs)("div",{className:"SubmitButton SubmitButtonFormUnique",children:[Object(m.jsx)("input",{className:"submit",type:"submit",value:""}),Object(m.jsx)("img",{onClick:function(c){var s=document.querySelector(".messageSubForm"),n=s.children[0].children[0];if(""===n.value){var r=document.querySelector(".SubmitButtonFormUnique");s.children[0].children[0].classList.add("vibrationInput"),r.classList.add("vibrationInput"),setTimeout((function(){s.children[0].children[0].classList.remove("vibrationInput"),r.classList.remove("vibrationInput")}),400)}else{var o={id:e._id,pseudo:t.pseudo,picture:t.picture,message:n.value};a(U(Object(g.a)(Object(g.a)({},o),{},{_id:e._id,actuallyUser:t}))),document.querySelector(".messages").scrollTop=document.querySelector(".messages").scrollHeight,n.value=""}},alt:"paper plane",src:W})]})]})})]})},V=function(){var e,t=document.cookie.split(";"),a=Object(x.b)(),c=function(){u.a.get("https://chatappback.onrender.com/auth/logout").then((function(e){e?(document.cookie="__user=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC",window.location.reload()):console.error("la reponse est introuvable")})).catch((function(e){console.error(e)}))};return function(){var a=!1;return function(){a||(a=!0,t.forEach((function(t){try{var a=Object(j.a)(t);a&&(e=a.id)}catch(c){console.error("this token are not valid")}})))}}()(),Object(m.jsx)(m.Fragment,{children:e?Object(m.jsxs)("div",{className:"HomePage",children:[Object(m.jsxs)("div",{className:"createChannelZone none",children:[Object(m.jsx)("div",{className:"background",onClick:function(){document.querySelector(".createChannelZone").classList.add("none")}}),Object(m.jsx)("div",{className:"createChannelBloc",children:Object(m.jsxs)("div",{className:"inputs",children:[Object(m.jsx)("h3",{children:"New Channel"}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={date:Date.now(),name:e.target[0].value,description:e.target[1].value};a(function(e){var t=e.name,a=e.description,c=e.date;return function(e){var s={name:t,description:a,date:c};u.a.post("https://chatappback.onrender.com/api/createChannel",s).then((function(t){if(t.data){if(!t.data.error)return e({type:w,payload:t.data.channel});console.error(t.data.error)}else console.error("nous n'arrivons pas a cr\xe9e un canal")})).catch((function(e){console.error(e)}))}}(t)),document.querySelector(".createChannelZone").classList.add("none"),e.target[0].value="",e.target[1].value=""},children:[Object(m.jsx)("input",{required:!0,className:"channelNameInput inpt",placeholder:"Channel name",minLength:"5",maxLength:"21",type:"text"}),Object(m.jsx)("textarea",{required:!0,placeholder:"Channel description",minLength:"30",maxLength:"200",className:"inpt channelDescriptionArea"}),Object(m.jsx)("div",{className:"submit",children:Object(m.jsx)("input",{type:"submit",className:"btn submaytButton",value:"Save"})})]})]})})]}),Object(m.jsxs)("div",{id:"popup",className:"popup none",children:[Object(m.jsxs)("div",{className:"MyProfile bloc popupBloc",onClick:function(e){var t=document.getElementsByClassName("popupBloc");Array.prototype.forEach.call(t,(function(e){e.classList.remove("selected")})),document.querySelector(".MyProfile").classList.add("selected")},children:[Object(m.jsx)("img",{alt:"user",src:Z}),Object(m.jsx)("p",{children:"My Profile"})]}),Object(m.jsxs)("div",{className:"tweeter bloc popupBloc",onClick:function(e){var t=document.getElementsByClassName("popupBloc");Array.prototype.forEach.call(t,(function(e){e.classList.remove("selected")})),document.querySelector(".tweeter").classList.add("selected")},children:[Object(m.jsx)("img",{alt:"tweeter",src:M}),Object(m.jsx)("p",{children:"Tweeter"})]}),Object(m.jsx)("div",{className:"transition"}),Object(m.jsxs)("div",{className:"logout bloc btn",onClick:c,children:[Object(m.jsx)("img",{src:K,alt:"exit",onClick:c}),Object(m.jsx)("p",{className:"red",onClick:c,children:"logout"})]})]}),Object(m.jsx)("div",{className:"left channelsLeftPart",children:Object(m.jsx)(H,{})}),Object(m.jsx)("div",{className:"interactions",children:Object(m.jsx)(z,{})})]}):Object(m.jsx)(p,{})})},X=Object(c.memo)(V),$=a(5),ee=function(){return Object(m.jsx)("div",{className:"signup",children:Object(m.jsxs)("div",{className:"signinBloc",children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsxs)("div",{className:"logo",children:[Object(m.jsx)("img",{alt:"devchallenges",src:o}),Object(m.jsx)("h2",{children:"devchallenges"})]}),Object(m.jsx)("p",{children:"Sign up"})]}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(e.target[0].value);var t={email:e.target[0].value,pseudo:e.target[1].value,password:e.target[2].value};e.target[3].disabled=!0,e.target[3].classList.add("disabled"),u.a.post("https://chatappback.onrender.com/auth/signup",t).then((function(t){console.log(t),e.target[3].disabled=!1,e.target[3].classList.remove("disabled");var a=document.querySelector(".errorMessage");a.classList.add("none"),"email already exist"===t.data||"pseudo already exist"===t.data?(a.classList.remove("none"),a.textContent=t.data):(a.classList.add("none"),window.location.replace("/"))})).catch((function(a){console.log(t),console.log(a),e.target[3].disabled=!1,e.target[3].classList.remove("disabled")}))},className:"formulaire",children:[Object(m.jsxs)("div",{className:"secondEditionForFirstInputs firstInputs",children:[Object(m.jsx)("input",{required:!0,className:"email inpt",placeholder:"your email",type:"email"}),Object(m.jsx)("input",{required:!0,minLength:"3",maxLength:"10",className:"pseudo inpt",placeholder:"your pseudo",type:"text"}),Object(m.jsx)("input",{required:!0,minLength:"6",maxLength:"22",className:"pass inpt",placeholder:"Password",type:"password"})]}),Object(m.jsx)("p",{className:"errorMessage none"}),Object(m.jsx)("input",{className:"submitButton btn",type:"submit",value:"Signin"})]}),Object(m.jsx)("div",{className:"theDetails",children:Object(m.jsx)("div",{className:"secondProp",children:Object(m.jsx)("div",{className:"signupLink",children:Object(m.jsxs)("p",{children:["Already have an account?",Object(m.jsx)(i.b,{to:"/",exact:!0,children:" Register"})]})})})})]})})},te=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Error 404 not found"})})},ae=function(){var e=Object(x.b)();return e(q("6217d3bc8729c91c80ffcd1f")),document.cookie.split(";").forEach((function(t){try{var a=Object(j.a)(t);a&&(a.id,e((c=a.id,function(e){u.a.get("https://chatappback.onrender.com/auth/getoneuser/".concat(c)).then((function(t){if(t.data)return e({type:y,payload:t.data});console.error("nous n'arrivons pas a recuperer l'utilisateur")})).catch((function(e){console.error(e)}))})))}catch(s){console.log("this token are not valid")}var c})),Object(m.jsx)(i.a,{children:Object(m.jsxs)($.c,{children:[Object(m.jsx)($.a,{path:"/",strict:!0,exact:!0,component:X}),Object(m.jsx)($.a,{path:"/signup",strict:!0,exact:!0,component:ee}),Object(m.jsx)($.a,{component:te})]})})},ce=a(22),se=a(69),ne=a(70),re=a(19),oe=Object(ce.combineReducers)({getUsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return[].concat(Object(re.a)(e),Object(re.a)(t.payload));default:return e}},channelsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return[].concat(Object(re.a)(e),Object(re.a)(t.payload));case w:return[t.payload].concat(Object(re.a)(e));default:return e}},actuallyChannelReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(g.a)({},t.payload);case I:return Object(g.a)(Object(g.a)({},e),{},{messages:[].concat(Object(re.a)(e.messages),[t.payload])});case B:return Object(g.a)(Object(g.a)({},e),{},{members:[].concat(Object(re.a)(e.members),[t.payload])});default:return e}},actuallyUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(g.a)({},t.payload);case L:return Object(g.a)(Object(g.a)({},e),{},{picture:t.payload});default:return e}}}),le=Object(ce.createStore)(oe,Object(se.composeWithDevTools)(Object(ce.applyMiddleware)(ne.a)));le.dispatch((function(e){u.a.get("https://chatappback.onrender.com/auth/getallusers").then((function(t){if(t)return e({type:N,payload:t.data});console.error("nous n'arrivons pas a recuperer les utilisateur")})).catch((function(e){console.error(e),console.error("4err4")}))})),le.dispatch((function(e){u.a.get("https://chatappback.onrender.com/api/getAllChannels").then((function(t){if(t)return e({type:R,payload:t.data});console.error("nous n'arrivons pas a recuperer les canals")})).catch((function(e){console.error(e)}))})),r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(x.a,{store:le,children:Object(m.jsx)(ae,{})})}),document.getElementById("root"))},76:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.d27c6966.chunk.js.map